(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),c=n.n(o),u=n(4),l=n(2),i=function(e){var t=e.contact,n=e.removePerson;return a.a.createElement("div",null,t.name,": ",t.number,a.a.createElement("button",{onClick:function(){return n(t.id)}},"Delete"))},m=function(e){var t=e.peopleToDisplay,n=e.removePerson;return a.a.createElement(a.a.Fragment,null,t.map((function(e){return a.a.createElement(i,{key:e.name,contact:e,removePerson:n})})))},f=function(e){var t=e.submitForm,n=e.inputHandlers,r=e.stateValues,o=Object(l.a)(n,2),c=o[0],u=o[1],i=Object(l.a)(r,2),m=i[0],f=i[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:t},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:m,onChange:c})),a.a.createElement("div",null,"nubmer: ",a.a.createElement("input",{value:f,onChange:u})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add"))))},s=function(e){var t=e.searchValue,n=e.searchInput;return a.a.createElement("div",null,"filter shown with: ",a.a.createElement("input",{value:t,onChange:n}))},d=n(3),p=n.n(d),b="/api/persons",h=function(e){return p.a.post(b,e).then((function(e){return e.data}))},v=function(){return p.a.get(b).then((function(e){return e.data}))},E=function(e){return p.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},g=function(e,t){return p.a.put("".concat(b,"/").concat(e),t).then((function(e){return e.data}))},j=function(e){var t=e.notification,n={height:"30px",border:"solid 3px green",borderRadius:"5px",backgroundColor:"lightgray",color:"green",fontSize:"20px",padding:"5px 0 0 5px",marginBottom:"5px"};return"error"===t.type&&(n.color="red",n.border="solid 3px red"),a.a.createElement("div",{style:n},t.content)},O=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),i=Object(l.a)(c,2),d=i[0],p=i[1],b=Object(r.useState)(""),O=Object(l.a)(b,2),y=O[0],w=O[1],x=Object(r.useState)(""),k=Object(l.a)(x,2),S=k[0],C=k[1],D=Object(r.useState)(null),F=Object(l.a)(D,2),P=F[0],I=F[1];Object(r.useEffect)((function(){v().then((function(e){return o(e)})).catch((function(e){return console.error("Unable to fetch persons",e)}))}),[]);var U=S.length>0?n.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})):n;return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),null===P?a.a.createElement(a.a.Fragment,null):a.a.createElement(j,{notification:P}),a.a.createElement(s,{searchValue:S,searchInput:function(e){return C(e.target.value)}}),a.a.createElement("h2",null,"Add new"),a.a.createElement(f,{submitForm:function(e){e.preventDefault(),n.map((function(e){return e.name})).includes(d)?function(){if(window.confirm("".concat(d," already added to the phonebook, do you want to replace the existing number"))){var e=n.find((function(e){return e.name===d})),t=Object(u.a)(Object(u.a)({},e),{},{number:y});g(e.id,t).then((function(e){o(n.map((function(t){return t.id===e.id?e:t}))),I({type:"regular",content:"Updated ".concat(d)})})).catch((function(e){return I({type:"error",content:"Information of ".concat(d," has already been removed from the server")})}))}}():(h({name:d,number:y}).then((function(e){o(n.concat(e))})).catch((function(e){return console.error("Unable to save contact ",e)})),I({type:"regular",content:"".concat(d," added")})),setTimeout((function(){return I(null)}),3e3),w(""),p("")},stateValues:[d,y],inputHandlers:[function(e){return p(e.target.value)},function(e){return w(e.target.value)}]}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(m,{peopleToDisplay:U,removePerson:function(e){var t=n.find((function(t){return t.id===e}));window.confirm("Delete user ".concat(t.name,"?"))&&E(e).then((function(){return o(n.filter((function(t){return t.id!==e})))})).catch((function(e){return console.error("Unable to remove user ",e)}))}}))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(O,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.65729049.chunk.js.map