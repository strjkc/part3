{"version":3,"sources":["Persons.js","PersonForm.js","Filter.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Person","contact","removePerson","name","number","onClick","id","Persons","peopleToDisplay","map","object","key","PersonForm","submitForm","inputHandlers","stateValues","nameInput","numberInput","newName","newNumber","onSubmit","value","onChange","type","Filter","searchValue","searchInput","baseUrl","newObject","axios","post","then","response","data","get","delete","newUser","put","Notification","notification","notificationStyle","height","border","borderRadius","backgroundColor","color","fontSize","padding","marginBottom","style","content","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchValue","setNotification","useEffect","personServices","allPersons","catch","error","console","length","filter","toLowerCase","includes","event","target","preventDefault","window","confirm","userToUpdate","find","person","updatedUser","changedUser","updateUser","savedPerson","log","concat","setTimeout","user","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.077d5f78.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({contact, removePerson}) => {\n    return(\n    <div>{contact.name}: {contact.number}<button onClick={() => removePerson(contact.id)}>Delete</button></div>\n    )\n  }\n\nconst Persons = ({peopleToDisplay, removePerson}) => {\n    return (\n        <>\n            {peopleToDisplay.map(object => <Person key={object.name} contact={object} removePerson={removePerson} />)}\n        </>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({submitForm, inputHandlers, stateValues}) => {\n\n    const [nameInput, numberInput] = inputHandlers\n    const [newName, newNumber] = stateValues\n    return (\n        <>\n            <form onSubmit={submitForm}>\n                <div>\n                  name: <input value={newName} onChange={nameInput} />\n                </div>\n                <div>\n                  nubmer: <input value={newNumber} onChange={numberInput} />\n                </div>\n                <div>\n                  <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({searchValue, searchInput}) => {\n    \n    return (\n        <div>\n            filter shown with: <input value={searchValue} onChange={searchInput} />\n        </div>   \n    )\n}\n\nexport default Filter","import axios from 'axios'\n\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const response = axios.get(baseUrl)\n    return response.then(response => response.data)\n}\n\nconst create = newObject => {\n    const response = axios.post(baseUrl, newObject)\n    return response.then(response => response.data)\n}\n\nconst remove = id => {\n    const response = axios.delete(`${baseUrl}/${id}`)\n    return response.then(response => response.data)\n}\n\nconst update = (id, newUser) => {\n    const response = axios.put(`${baseUrl}/${id}`, newUser)\n    return response.then(response => response.data)\n}\n\nexport default {create, getAll, remove, update}","import React, { useEffect } from 'react'\n\nconst Notification = ({notification}) => {\n    \n    let notificationStyle = {\n        height: '30px',\n        border: 'solid 3px green',\n        borderRadius: '5px',\n        backgroundColor: 'lightgray',\n        color: 'green',\n        fontSize: '20px',\n        padding: '5px 0 0 5px',\n        marginBottom: '5px',\n    }\n    if (notification.type === 'error')\n        {\n            notificationStyle.color = 'red'\n            notificationStyle.border = 'solid 3px red'\n        }\n\n    return (\n    <div style={notificationStyle}>{notification.content}</div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './Persons'\nimport PersonForm from './PersonForm'\nimport Filter from './Filter'\nimport personServices from './services/persons'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchValue, setSearchValue] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect( () => {\n    personServices.getAll()\n    .then( allPersons => setPersons(allPersons))\n    .catch(error => console.error('Unable to fetch persons', error))\n  },[])\n\n  const removePerson = id => {\n    const user = persons.find(person => person.id === id)\n    if (window.confirm(`Delete user ${user.name}?`))\n    {\n      personServices.remove(id)\n      .then( () => setPersons(persons.filter(person => person.id !== id)))\n      .catch(error => console.error('Unable to remove user ', error))\n    }\n    return\n    }\n\n  const peopleToDisplay = searchValue.length > 0\n  ? persons.filter(object => object.name.toLowerCase().includes(searchValue.toLowerCase()) )\n  : persons\n\n  const searchInput = event => setSearchValue(event.target.value)\n  const nameInput = event => setNewName(event.target.value)\n  const numberInput = event => setNewNumber(event.target.value)\n  \n  const updateUser = () => {\n    if(window.confirm(`${newName} already added to the phonebook, do you want to replace the existing number`))\n        {\n          const userToUpdate = persons.find(person => person.name === newName)\n          const updatedUser = {...userToUpdate, number: newNumber}\n          personServices.update(userToUpdate.id, updatedUser)\n          .then( changedUser => {setPersons(persons.map(person => person.id === changedUser.id ? changedUser : person)); setNotification({type: 'regular', content: `Updated ${newName}`})})\n          .catch(error => setNotification({type: 'error', content: error.response.data.error}))\n        }\n  } \n\n  const createUser = () => {\n    const newPerson = {name: newName, number: newNumber}\n      personServices.create(newPerson)\n      .then(savedPerson => {\n        console.log(savedPerson)\n        setPersons(persons.concat(savedPerson))\n        setNotification({type: 'regular', content: `${newName} added`}) \n      })\n      .catch(error => {\n        setNotification({type: 'error', content: `${error.response.data.error}`})\n\n    })\n  }\n\n  const hideNotification = () => {\n    setTimeout(() => setNotification(null), 3000)\n  }\n\n  const submitForm = event => {\n    event.preventDefault()\n    if (persons.map(object => object.name).includes(newName))\n        updateUser()\n    else\n      createUser()\n    hideNotification()\n    setNewNumber('')\n    setNewName('')  \n  }  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {notification === null ? <></> : <Notification notification={notification} />}\n      <Filter searchValue={searchValue} searchInput={searchInput} />\n      <h2>Add new</h2>\n      <PersonForm submitForm={submitForm} stateValues={[newName, newNumber]} inputHandlers={[nameInput, numberInput]}  />\n      <h2>Numbers</h2>\n      <Persons peopleToDisplay={peopleToDisplay} removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}